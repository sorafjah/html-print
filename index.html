<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTMLãƒ—ãƒªãƒ³ãƒˆã‚¨ãƒ‡ã‚£ã‚¿</title>
    <style>
        /* * =========================================
         * ã‚¢ãƒ—ãƒªå…¨ä½“ã®UIãƒ‡ã‚¶ã‚¤ãƒ³ (App UI)
         * =========================================
         */
        :root {
            --primary-color: #0066cc; /* æ¸…æ½”æ„Ÿã®ã‚ã‚‹ãƒ–ãƒ«ãƒ¼ */
            --bg-color: #f4f7fa;      /* è–„ã„ã‚°ãƒ¬ãƒ¼ãƒ–ãƒ«ãƒ¼ã®èƒŒæ™¯ */
            --text-color: #333;
            --border-color: #dde2e5;
            --paper-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        body {
            font-family: "BIZ UDPGothic", "BIZ UD Pã‚´ã‚·ãƒƒã‚¯", "Hiragino Kaku Gothic ProN", "Meiryo", sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            color: var(--text-color);
            overflow: hidden; /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã¯ãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢ã®ã¿ */
        }

        /* ã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼ˆãƒ„ãƒ¼ãƒ«ãƒãƒ¼ï¼‰ */
        .sidebar {
            width: 280px;
            background-color: #ffffff;
            border-right: 1px solid var(--border-color);
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            overflow-y: auto;
            box-shadow: 2px 0 5px rgba(0,0,0,0.02);
            z-index: 10;
        }

        .logo {
            font-size: 18px;
            font-weight: bold;
            color: var(--primary-color);
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary-color);
            margin-bottom: 5px;
        }

        /* ãƒ„ãƒ¼ãƒ«ã‚°ãƒ«ãƒ¼ãƒ— */
        .tool-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .tool-label {
            font-size: 12px;
            font-weight: bold;
            color: #666;
            margin-bottom: 4px;
        }

        /* å…¥åŠ›ãƒ»ãƒœã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ« */
        .control-row {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        input[type="number"], select {
            padding: 6px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-family: inherit;
        }

        button {
            background-color: #fff;
            border: 1px solid #ccc;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
            color: #333;
        }

        button:hover {
            background-color: #f0f8ff;
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        button.active {
            background-color: var(--primary-color);
            color: #fff;
            border-color: var(--primary-color);
        }

        button.primary-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            font-weight: bold;
            padding: 10px;
        }
        button.primary-btn:hover {
            background-color: #0052a3;
        }

        /* ãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢ */
        .main-area {
            flex: 1;
            padding: 40px;
            overflow-y: auto;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            transition: all 0.3s;
        }

        /* * =========================================
         * ç”¨ç´™ï¼ˆCanvas/Paperï¼‰ã®ãƒ‡ã‚¶ã‚¤ãƒ³
         * =========================================
         */
        #paper-container {
            background-color: #fff;
            width: 210mm; /* A4 width */
            min-height: 297mm; /* A4 height */
            padding: 20mm;
            box-shadow: var(--paper-shadow);
            box-sizing: border-box;
            outline: none; /* ç·¨é›†æ™‚ã®é’ã„æ ã‚’æ¶ˆã™ */
            position: relative;
        }

        /* Webè¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰æ™‚ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        body.mode-web .sidebar {
            display: none;
        }
        body.mode-web .main-area {
            padding: 0;
            background-color: #fff;
            display: block;
        }
        body.mode-web #paper-container {
            width: 100%;
            max-width: 1000px;
            margin: 0 auto;
            box-shadow: none;
            min-height: 100vh;
        }
        /* Webãƒ¢ãƒ¼ãƒ‰ã‹ã‚‰ã®å¾©å¸°ãƒœã‚¿ãƒ³ */
        .exit-web-mode {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            display: none;
            z-index: 100;
        }
        body.mode-web .exit-web-mode {
            display: block;
        }

        /* * =========================================
         * å°åˆ·è¨­å®š (Print)
         * =========================================
         */
        @media print {
            .sidebar, .exit-web-mode {
                display: none !important;
            }
            body, .main-area {
                background: none;
                height: auto;
                overflow: visible;
                display: block;
                padding: 0;
                margin: 0;
            }
            #paper-container {
                box-shadow: none;
                width: 100%;
                margin: 0;
                padding: 0; /* ãƒ–ãƒ©ã‚¦ã‚¶ã®ä½™ç™½è¨­å®šã«ä»»ã›ã‚‹ã‹ã€å¿…è¦ã«å¿œã˜ã¦èª¿æ•´ */
                border: none !important;
            }
            /* å°åˆ·æ™‚ã¯ãƒ«ãƒ“ã®è¡¨ç¤ºè¨­å®šã«å¾“ã† */
            body.hide-ruby rt {
                display: none;
            }
        }

        /* * =========================================
         * ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå†…éƒ¨ã®ã‚¹ã‚¿ã‚¤ãƒ« (User Content)
         * =========================================
         */
        
        /* ç·¨é›†å¯èƒ½ã‚¨ãƒªã‚¢ã®åŸºæœ¬ */
        [contenteditable]:focus {
            outline: 2px solid rgba(0, 102, 204, 0.2);
        }

        /* ãƒ«ãƒ“éè¡¨ç¤ºã‚¯ãƒ©ã‚¹ */
        body.hide-ruby rt {
            display: none;
        }

        /* ãƒ•ã‚©ãƒ³ãƒˆåˆ‡ã‚Šæ›¿ãˆç”¨ã‚¯ãƒ©ã‚¹ */
        .font-mincho {
            font-family: "BIZ UDMincho", "BIZ UD PMincho", "Hiragino Mincho ProN", serif !important;
        }
        .font-gothic {
            font-family: "BIZ UDPGothic", "BIZ UD Pã‚´ã‚·ãƒƒã‚¯", "Hiragino Kaku Gothic ProN", sans-serif !important;
        }

        /* ãƒ¦ãƒ¼ã‚¶ãƒ¼æä¾›ã®CSSï¼ˆä¸€éƒ¨èª¿æ•´ã—ã¦çµ±åˆï¼‰ */
        .doc-title {
            text-align: center;
            font-size: 24px;
            border-bottom: 2px solid #000;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .situation-box {
            background-color: #f9f9f9;
            padding: 15px;
            border: 1px solid #000;
            margin-bottom: 20px;
        }
        
        /* ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆå¯å¤‰ï¼‰ */
        .doc-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
        }
        .doc-table th, .doc-table td {
            border: 1px solid #000; /* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ */
            padding: 8px 12px;
            text-align: center;
        }
        .doc-table th {
            background-color: #eee;
        }

        .question-box { margin-bottom: 25px; }
        .question-title { font-weight: bold; margin-bottom: 10px; }
        .answer-space {
            border-bottom: 1px dotted #000;
            display: inline-block;
            min-width: 200px;
            height: 1.5em;
            vertical-align: bottom;
        }
        
        /* æ™‚è¨ˆé–¢é€£ */
        .clock-grid {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin-top: 15px;
        }
        .clock-item { text-align: center; margin: 10px; }
        canvas {
            display: block;
            margin-bottom: 5px;
            border: 1px solid #eee;
            background: white;
        }
        .options { list-style: none; padding: 0; }
        .options li { margin-bottom: 8px; }
        
        /* ãƒ«ãƒ“å¾®èª¿æ•´ */
        rt { user-select: none; /* ç·¨é›†æ™‚ã«èª¤é¸æŠã—ã«ããã™ã‚‹ */ }
        
    </style>
</head>
<body class="font-gothic">

    <!-- ã‚µã‚¤ãƒ‰ãƒãƒ¼ -->
    <div class="sidebar">
        <div class="logo">ãƒ—ãƒªãƒ³ãƒˆã‚¨ãƒ‡ã‚£ã‚¿</div>

        <!-- ãƒ•ã‚©ãƒ³ãƒˆè¨­å®š -->
        <div class="tool-group">
            <div class="tool-label">æ–‡å­—ã®è¨­å®š</div>
            <div class="control-row">
                <button onclick="toggleFont('gothic')" id="btn-gothic" class="active">ã‚´ã‚·ãƒƒã‚¯</button>
                <button onclick="toggleFont('mincho')" id="btn-mincho">æ˜æœä½“</button>
            </div>
            <div class="control-row" style="margin-top:5px;">
                <button onclick="execCmd('bold')" title="å¤ªå­—"><b>B</b></button>
                <input type="number" id="fontSizeInput" value="16" min="8" max="72" style="width: 60px;" title="æ–‡å­—ã‚µã‚¤ã‚º">
                <span style="font-size:12px;">px</span>
            </div>
        </div>

        <!-- ãƒ«ãƒ“è¨­å®š -->
        <div class="tool-group">
            <div class="tool-label">æŒ¯ã‚Šä»®åï¼ˆãƒ«ãƒ“ï¼‰</div>
            <button onclick="toggleRuby()" id="btn-ruby" class="active">è¡¨ç¤ºä¸­</button>
            <div style="font-size:10px; color:#888;">â€»æ–‡ç« å†…ã®ãƒ«ãƒ“ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç·¨é›†ã§ãã¾ã™</div>
        </div>

        <!-- æ ç·šè¨­å®š -->
        <div class="tool-group">
            <div class="tool-label">è¡¨ã®æ ç·š</div>
            <div class="control-row">
                <span style="font-size:12px;">å¤ªã•:</span>
                <input type="number" id="borderWidth" value="1" min="0" max="10" style="width: 50px;" onchange="updateTableBorder()">
                <span style="font-size:12px;">px</span>
            </div>
            <div class="control-row">
                <span style="font-size:12px;">ç¨®é¡:</span>
                <select id="borderStyle" onchange="updateTableBorder()" style="width: 100px;">
                    <option value="solid">å®Ÿç·š</option>
                    <option value="dashed">ç ´ç·š</option>
                    <option value="dotted">ç‚¹ç·š</option>
                    <option value="double">äºŒé‡ç·š</option>
                    <option value="none">ãªã—</option>
                </select>
            </div>
        </div>

        <!-- è¡¨ç¤ºãƒ»å°åˆ· -->
        <div class="tool-group" style="margin-top: auto;">
            <div class="tool-label">å‡ºåŠ›ãƒ»è¡¨ç¤º</div>
            <button onclick="toggleWebMode()">ğŸŒ Webã‚µã‚¤ãƒˆã¨ã—ã¦è¡¨ç¤º</button>
            <button onclick="window.print()" class="primary-btn">ğŸ–¨ å°åˆ·ã™ã‚‹</button>
        </div>
    </div>

    <!-- Webãƒ¢ãƒ¼ãƒ‰è§£é™¤ãƒœã‚¿ãƒ³ -->
    <div class="exit-web-mode" onclick="toggleWebMode()">Ã— ç·¨é›†ã«æˆ»ã‚‹</div>

    <!-- ãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢ -->
    <div class="main-area">
        <!-- ç·¨é›†ç”¨ç´™ (A4) -->
        <div id="paper-container" contenteditable="true">
            
            <!-- ã“ã“ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
            <div class="no-print" style="text-align: right; color: #666; font-size: 12px; margin-bottom: 10px;">
                â€»ã“ã®ã‚¨ãƒªã‚¢ã®æ–‡å­—ã¯è‡ªç”±ã«æ›¸ãæ›ãˆã‚‰ã‚Œã¾ã™ã€‚
            </div>

            <h1 class="doc-title"><ruby>å®Ÿ<rt>ã˜ã¤</rt></ruby><ruby>ç”¨<rt>ã‚ˆã†</rt></ruby><ruby>çš„<rt>ã¦ã</rt></ruby><ruby>èª­<rt>ã©</rt></ruby><ruby>è§£<rt>ã‹ã„</rt></ruby>ãƒ»<ruby>è¨ˆ<rt>ã‘ã„</rt></ruby><ruby>ç®—<rt>ã•ã‚“</rt></ruby>ãƒ—ãƒªãƒ³ãƒˆï¼š<ruby>ä¿®<rt>ã—ã‚…ã†</rt></ruby><ruby>å­¦<rt>ãŒã</rt></ruby><ruby>æ—…<rt>ã‚Šã‚‡</rt></ruby><ruby>è¡Œ<rt>ã“ã†</rt></ruby>ã®<ruby>è¨ˆ<rt>ã‘ã„</rt></ruby><ruby>ç”»<rt>ã‹ã</rt></ruby></h1>

            <div class="situation-box">
                <strong>ã€ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã€‘</strong><br>
                ã‚ãªãŸã¯<ruby>æ¥<rt>ã‚‰ã„</rt></ruby><ruby>é€±<rt>ã—ã‚…ã†</rt></ruby>ã€<ruby>äº¬<rt>ãã‚‡ã†</rt></ruby><ruby>éƒ½<rt>ã¨</rt></ruby>ã¸<ruby>ä¿®<rt>ã—ã‚…ã†</rt></ruby><ruby>å­¦<rt>ãŒã</rt></ruby><ruby>æ—…<rt>ã‚Šã‚‡</rt></ruby><ruby>è¡Œ<rt>ã“ã†</rt></ruby>ã«<ruby>è¡Œ<rt>ã„</rt></ruby>ãã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚ãªãŸã®<ruby>ç­<rt>ã¯ã‚“</rt></ruby>ãŒ<ruby>ä½œæˆ<rt>ã•ãã›ã„</rt></ruby>ã—ãŸï¼’<ruby>æ—¥<rt>ã«ã¡</rt></ruby><ruby>ç›®<rt>ã‚</rt></ruby>ã®<ruby>ç­<rt>ã¯ã‚“</rt></ruby><ruby>åˆ¥<rt>ã¹ã¤</rt></ruby><ruby>æ´»<rt>ã‹ã¤</rt></ruby><ruby>å‹•<rt>ã©ã†</rt></ruby>ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«<ruby>è¡¨<rt>ã²ã‚‡ã†</rt></ruby>ã§ã™ã€‚ã“ã®<ruby>è¡¨<rt>ã²ã‚‡ã†</rt></ruby>ã‚’ã‚ˆã<ruby>èª­<rt>ã‚ˆ</rt></ruby>ã‚“ã§ã€ã‚ã¨ã®<ruby>å•<rt>ã¨</rt></ruby>ã„ã«<ruby>ç­”<rt>ã“ãŸ</rt></ruby>ãˆãªã•ã„ã€‚
            </div>

            <table class="doc-table">
                <thead>
                    <tr>
                        <th style="width: 15%;"><ruby>æ™‚åˆ»<rt>ã˜ã“ã</rt></ruby></th>
                        <th style="width: 40%;"><ruby>è¡Œ<rt>ã„</rt></ruby>ã<ruby>å ´æ‰€<rt>ã°ã—ã‚‡</rt></ruby>ãƒ»ã™ã‚‹ã“ã¨</th>
                        <th><ruby>äº¤é€š<rt>ã“ã†ã¤ã†</rt></ruby><ruby>æ‰‹æ®µ<rt>ã—ã‚…ã ã‚“</rt></ruby>ã‚„<ruby>æ³¨æ„ç‚¹<rt>ã¡ã‚…ã†ã„ã¦ã‚“</rt></ruby></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>8:30</td>
                        <td><ruby>å®¿<rt>ã—ã‚…ã</rt></ruby><ruby>æ³Š<rt>ã¯ã</rt></ruby>ãƒ›ãƒ†ãƒ«<ruby>å‡ºç™º<rt>ã—ã‚…ã£ã±ã¤</rt></ruby></td>
                        <td>â€»<ruby>åœ°å›³<rt>ã¡ãš</rt></ruby>ã¨ã‚«ãƒ¡ãƒ©ã‚’<ruby>å¿˜<rt>ã‚ã™</rt></ruby>ã‚Œãªã„</td>
                    </tr>
                    <tr>
                        <td>9:10</td>
                        <td><ruby>é‡‘<rt>ãã‚“</rt></ruby><ruby>é–£<rt>ã‹ã</rt></ruby><ruby>å¯º<rt>ã˜</rt></ruby>ï¼ˆ<ruby>é¹¿<rt>ã‚ã</rt></ruby><ruby>è‹‘<rt>ãŠã‚“</rt></ruby><ruby>å¯º<rt>ã˜</rt></ruby>ï¼‰</td>
                        <td>ã€<ruby>å¸‚<rt>ã—</rt></ruby>ãƒã‚¹ã€ã‚’<ruby>åˆ©ç”¨<rt>ã‚Šã‚ˆã†</rt></ruby></td>
                    </tr>
                    <tr>
                        <td>11:00</td>
                        <td><ruby>åµ<rt>ã‚ã‚‰ã—</rt></ruby><ruby>å±±<rt>ã‚„ã¾</rt></ruby>ãƒ»<ruby>æ¸¡<rt>ã‚ãŸ</rt></ruby><ruby>æœˆ<rt>ã’ã¤</rt></ruby><ruby>æ©‹<rt>ãã‚‡ã†</rt></ruby></td>
                        <td>ã€<ruby>äº¬<rt>ã‘ã„</rt></ruby><ruby>ç¦<rt>ãµã</rt></ruby><ruby>é›»<rt>ã§ã‚“</rt></ruby><ruby>é‰„<rt>ã¦ã¤</rt></ruby>ï¼ˆ<ruby>åµ<rt>ã‚‰ã‚“</rt></ruby><ruby>é›»<rt>ã§ã‚“</rt></ruby>ï¼‰ã€</td>
                    </tr>
                    <tr>
                        <td>12:30</td>
                        <td><ruby>æ˜¼é£Ÿ<rt>ã¡ã‚…ã†ã—ã‚‡ã</rt></ruby>ï¼ˆãŠ<ruby>åº—<rt>ã¿ã›</rt></ruby>ï¼šã¿ã‚„ã“ï¼‰</td>
                        <td>â€»12:30ã«<ruby>äºˆç´„<rt>ã‚ˆã‚„ã</rt></ruby>ãšã¿</td>
                    </tr>
                    <tr>
                        <td>14:30</td>
                        <td><ruby>æ¸…<rt>ãã‚ˆ</rt></ruby><ruby>æ°´<rt>ã¿ãš</rt></ruby><ruby>å¯º<rt>ã§ã‚‰</rt></ruby></td>
                        <td>ã€ã‚¿ã‚¯ã‚·ãƒ¼ã€ã‚’<ruby>åˆ©ç”¨<rt>ã‚Šã‚ˆã†</rt></ruby></td>
                    </tr>
                    <tr>
                        <td>17:00</td>
                        <td><ruby>å®¿<rt>ã—ã‚…ã</rt></ruby><ruby>æ³Š<rt>ã¯ã</rt></ruby>ãƒ›ãƒ†ãƒ«<ruby>å¸°ç€<rt>ãã¡ã‚ƒã</rt></ruby></td>
                        <td>â€»<ruby>å¤•<rt>ã‚†ã†</rt></ruby><ruby>é£Ÿ<rt>ã—ã‚‡ã</rt></ruby>ã¯18:00ã‹ã‚‰</td>
                    </tr>
                </tbody>
            </table>

            <div class="question-box">
                <div class="question-title">
                    ã€<ruby>å•<rt>ã¨ã„</rt></ruby>1ã€‘ <ruby>å®¿<rt>ã—ã‚…ã</rt></ruby><ruby>æ³Š<rt>ã¯ã</rt></ruby>ãƒ›ãƒ†ãƒ«ã‚’<ruby>å‡ºç™º<rt>ã—ã‚…ã£ã±ã¤</rt></ruby>ã™ã‚‹ã¨ãã«ã€<ruby>å¿…<rt>ã‹ãªã‚‰</rt></ruby>ãš<ruby>æŒ<rt>ã‚‚</rt></ruby>ã£ã¦ã„ãã‚ˆã†ã«<ruby>æ›¸<rt>ã‹</rt></ruby>ã‹ã‚Œã¦ã„ã‚‹ã€Œ<ruby>æŒ<rt>ã‚‚</rt></ruby>ã¡<ruby>ç‰©<rt>ã‚‚ã®</rt></ruby>ã€ã‚’ï¼’ã¤<ruby>ç­”<rt>ã“ãŸ</rt></ruby>ãˆãªã•ã„ã€‚
                </div>
                <div>
                    <ruby>ç­”<rt>ã“ãŸ</rt></ruby>ãˆï¼š<span class="answer-space"></span>
                </div>
            </div>

            <div class="question-box">
                <div class="question-title">
                    ã€<ruby>å•<rt>ã¨ã„</rt></ruby>2ã€‘ <ruby>åµ<rt>ã‚ã‚‰ã—</rt></ruby><ruby>å±±<rt>ã‚„ã¾</rt></ruby>ã«<ruby>åˆ°ç€<rt>ã¨ã†ã¡ã‚ƒã</rt></ruby>ã—ã¦ã‹ã‚‰ã€<ruby>æ˜¼é£Ÿ<rt>ã¡ã‚…ã†ã—ã‚‡ã</rt></ruby>ã®ãŠ<ruby>åº—<rt>ã¿ã›</rt></ruby>ã«<ruby>è¡Œ<rt>ã„</rt></ruby>ãã¾ã§ã®ã€Œ<ruby>è‡ªç”±<rt>ã˜ã‚†ã†</rt></ruby><ruby>æ™‚é–“<rt>ã˜ã‹ã‚“</rt></ruby>ã€ã¯ã€<ruby>ä½•<rt>ãªã‚“</rt></ruby><ruby>åˆ†<rt>ã·ã‚“</rt></ruby><ruby>é–“<rt>ã‹ã‚“</rt></ruby>ã‚ã‚Šã¾ã™ã‹ã€‚
                </div>
                <div>
                    <ruby>ç­”<rt>ã“ãŸ</rt></ruby>ãˆï¼š<span class="answer-space"></span><ruby>åˆ†<rt>ã·ã‚“</rt></ruby><ruby>é–“<rt>ã‹ã‚“</rt></ruby>
                </div>
            </div>

            <div class="question-box">
                <div class="question-title">
                    ã€<ruby>å•<rt>ã¨ã„</rt></ruby>3ã€‘ <ruby>æœ€å¾Œ<rt>ã•ã„ã”</rt></ruby>ã®<ruby>è¦‹å­¦<rt>ã‘ã‚“ãŒã</rt></ruby><ruby>å ´æ‰€<rt>ã°ã—ã‚‡</rt></ruby>ã§ã‚ã‚‹ã€Œ<ruby>æ¸…<rt>ãã‚ˆ</rt></ruby><ruby>æ°´<rt>ã¿ãš</rt></ruby><ruby>å¯º<rt>ã§ã‚‰</rt></ruby>ã€ã«<ruby>åˆ°ç€<rt>ã¨ã†ã¡ã‚ƒã</rt></ruby>ã™ã‚‹<ruby>äºˆå®š<rt>ã‚ˆã¦ã„</rt></ruby><ruby>æ™‚åˆ»<rt>ã˜ã“ã</rt></ruby>ã‚’<ruby>è¡¨<rt>ã‚ã‚‰ã‚</rt></ruby>ã—ã¦ã„ã‚‹<ruby>æ™‚è¨ˆ<rt>ã¨ã‘ã„</rt></ruby>ã‚’ã€<ruby>æ¬¡<rt>ã¤ã</rt></ruby>ã®ã‚¢ï½ã‚¨ã‹ã‚‰ï¼‘ã¤<ruby>é¸<rt>ãˆã‚‰</rt></ruby>ã‚“ã§ã€<ruby>è¨˜å·<rt>ãã”ã†</rt></ruby>ã§<ruby>ç­”<rt>ã“ãŸ</rt></ruby>ãˆãªã•ã„ã€‚
                </div>
                <div class="clock-grid">
                    <div class="clock-item">
                        <canvas id="clockA" width="100" height="100"></canvas>
                        ã‚¢
                    </div>
                    <div class="clock-item">
                        <canvas id="clockB" width="100" height="100"></canvas>
                        ã‚¤
                    </div>
                    <div class="clock-item">
                        <canvas id="clockC" width="100" height="100"></canvas>
                        ã‚¦
                    </div>
                    <div class="clock-item">
                        <canvas id="clockD" width="100" height="100"></canvas>
                        ã‚¨
                    </div>
                </div>
                <div style="margin-top: 10px;">
                    <ruby>ç­”<rt>ã“ãŸ</rt></ruby>ãˆï¼š<span class="answer-space" style="min-width: 50px;"></span>
                </div>
            </div>

            <div class="question-box">
                <div class="question-title">
                    ã€<ruby>å•<rt>ã¨ã„</rt></ruby>4ã€‘ <ruby>è¨ˆç”»<rt>ã‘ã„ã‹ã</rt></ruby><ruby>ä¸­<rt>ã¡ã‚…ã†</rt></ruby>ã«ã€Œ<ruby>å¸‚<rt>ã—</rt></ruby>ãƒã‚¹ã€ã‚’<ruby>åˆ©ç”¨<rt>ã‚Šã‚ˆã†</rt></ruby>ã™ã‚‹<ruby>å ´é¢<rt>ã°ã‚ã‚“</rt></ruby>ãŒã‚ã‚Šã¾ã™ãŒã€ãƒã‚¹ã®<ruby>ä¸­<rt>ãªã‹</rt></ruby>ã§ã®<ruby>è¡Œå‹•<rt>ã“ã†ã©ã†</rt></ruby>ã¨ã—ã¦ã€Œã‚‚ã£ã¨ã‚‚ãµã•ã‚ã—ã„ã‚‚ã®ã€ã‚’ï¼‘ã¤<ruby>é¸<rt>ãˆã‚‰</rt></ruby>ã³ãªã•ã„ã€‚
                </div>
                <ul class="options">
                    <li>ã‚¢ï¼š<ruby>æ¬¡<rt>ã¤ã</rt></ruby>ã®<ruby>ç›®çš„åœ°<rt>ã‚‚ãã¦ãã¡</rt></ruby>ã‚’<ruby>ç¢ºèª<rt>ã‹ãã«ã‚“</rt></ruby>ã™ã‚‹ãŸã‚ã€<ruby>å¤§<rt>ãŠãŠ</rt></ruby>ããª<ruby>å£°<rt>ã“ãˆ</rt></ruby>ã§<ruby>ç›¸è«‡<rt>ãã†ã ã‚“</rt></ruby>ã™ã‚‹ã€‚</li>
                    <li>ã‚¤ï¼šãŠ<ruby>è…¹<rt>ãªã‹</rt></ruby>ãŒã™ã„ãŸã®ã§ã€<ruby>å‹é”<rt>ã¨ã‚‚ã ã¡</rt></ruby>ã¨ãŠ<ruby>è“å­<rt>ã‹ã—</rt></ruby>ã‚’<ruby>åˆ†<rt>ã‚</rt></ruby>ã‘<ruby>åˆ<rt>ã‚</rt></ruby>ã£ã¦<ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã‚‹ã€‚</li>
                    <li>ã‚¦ï¼šãƒªãƒ¥ãƒƒã‚¯ã‚µãƒƒã‚¯ã‚’<ruby>èƒŒè² <rt>ã›ãŠ</rt></ruby>ã£ãŸã¾ã¾ã ã¨<ruby>ä»–<rt>ã»ã‹</rt></ruby>ã®<ruby>å®¢<rt>ãã‚ƒã</rt></ruby>ã®<ruby>é‚ªé­”<rt>ã˜ã‚ƒã¾</rt></ruby>ã«ãªã‚‹ã®ã§ã€<ruby>å‰<rt>ã¾ãˆ</rt></ruby>ã«<ruby>æŠ±<rt>ã‹ã‹</rt></ruby>ãˆãŸã‚Š<ruby>ç¶²æ£š<rt>ã‚ã¿ã ãª</rt></ruby>ã«<ruby>ç½®<rt>ãŠ</rt></ruby>ã„ãŸã‚Šã™ã‚‹ã€‚</li>
                    <li>ã‚¨ï¼š<ruby>é™<rt>ãŠ</rt></ruby>ã‚Šã‚‹<ruby>åœç•™æ‰€<rt>ã¦ã„ã‚Šã‚…ã†ã˜ã‚‡</rt></ruby>ã«<ruby>ç€<rt>ã¤</rt></ruby>ã<ruby>å‰<rt>ã¾ãˆ</rt></ruby>ã«ã€<ruby>æ€¥<rt>ã„ã</rt></ruby>ã„ã§ãƒã‚¹ã®<ruby>å‡ºå£<rt>ã§ãã¡</rt></ruby>ã¾ã§<ruby>èµ°<rt>ã¯ã—</rt></ruby>ã£ã¦<ruby>ç§»å‹•<rt>ã„ã©ã†</rt></ruby>ã™ã‚‹ã€‚</li>
                </ul>
                <div>
                    <ruby>ç­”<rt>ã“ãŸ</rt></ruby>ãˆï¼š<span class="answer-space" style="min-width: 50px;"></span>
                </div>
            </div>
            <!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚³ãƒ³ãƒ†ãƒ³ãƒ„çµ‚äº† -->

        </div>
    </div>

<script>
    /**
     * ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚¸ãƒƒã‚¯
     */

    // ãƒ•ã‚©ãƒ³ãƒˆåˆ‡ã‚Šæ›¿ãˆ
    function toggleFont(type) {
        document.body.classList.remove('font-gothic', 'font-mincho');
        document.body.classList.add('font-' + type);
        
        document.getElementById('btn-gothic').classList.toggle('active', type === 'gothic');
        document.getElementById('btn-mincho').classList.toggle('active', type === 'mincho');
    }

    // ãƒ«ãƒ“è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ
    function toggleRuby() {
        document.body.classList.toggle('hide-ruby');
        const isHidden = document.body.classList.contains('hide-ruby');
        const btn = document.getElementById('btn-ruby');
        btn.textContent = isHidden ? 'éè¡¨ç¤ºä¸­' : 'è¡¨ç¤ºä¸­';
        btn.classList.toggle('active', !isHidden);
    }

    // Webãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆ
    function toggleWebMode() {
        document.body.classList.toggle('mode-web');
        // Webãƒ¢ãƒ¼ãƒ‰æ™‚ã¯ç·¨é›†ä¸å¯ã«ã™ã‚‹ã¨ã‚ˆã‚Šã€Œã‚µã‚¤ãƒˆã€ã£ã½ããªã‚Šã¾ã™ãŒã€
        // ç·¨é›†ã—ãŸã„å ´åˆã‚‚ã‚ã‚‹ã®ã§ä»Šå›ã¯è¦‹ãŸç›®ã ã‘ã®å¤‰æ›´ã«ã¨ã©ã‚ã¾ã™ã€‚
        // ã‚‚ã—ç·¨é›†ä¸å¯ã«ã™ã‚‹ãªã‚‰ä»¥ä¸‹ã‚’æœ‰åŠ¹åŒ–ï¼š
        // const paper = document.getElementById('paper-container');
        // const isWeb = document.body.classList.contains('mode-web');
        // paper.contentEditable = !isWeb;
    }

    // å¤ªå­—ãªã©ã®ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
    function execCmd(command) {
        document.execCommand(command, false, null);
        document.getElementById('paper-container').focus();
    }

    // ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºå¤‰æ›´ï¼ˆé¸æŠç¯„å›²ã«å¯¾ã—ã¦é©ç”¨ï¼‰
    // æ•°å€¤å…¥åŠ›ã®å¤‰åŒ–ã‚’ç›£è¦–
    const fontSizeInput = document.getElementById('fontSizeInput');
    fontSizeInput.addEventListener('change', function() {
        const size = this.value + 'px';
        applyStyleToSelection('fontSize', size);
    });

    // é¸æŠç¯„å›²ã«ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã™ã‚‹ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
    function applyStyleToSelection(styleName, styleValue) {
        const selection = window.getSelection();
        if (!selection.rangeCount) return;

        // ç¯„å›²ã‚’å–å¾—
        const range = selection.getRangeAt(0);
        
        // é¸æŠã•ã‚ŒãŸå†…å®¹ã‚’spanã§å›²ã‚€
        const span = document.createElement("span");
        span.style[styleName] = styleValue;
        
        try {
            // å˜ç´”ãªãƒ†ã‚­ã‚¹ãƒˆé¸æŠã®å ´åˆ
            range.surroundContents(span);
        } catch (e) {
            // è¤‡é›‘ãªé¸æŠï¼ˆã‚¿ã‚°ã¾ãŸããªã©ï¼‰ã®å ´åˆã¯execCommandã®fontSizeã‚’ä½¿ã£ã¦ã‹ã‚‰styleã‚’ä¸Šæ›¸ãã™ã‚‹ãªã©ã®ãƒãƒƒã‚¯ãŒå¿…è¦ã§ã™ãŒã€
            // ç°¡æ˜“å®Ÿè£…ã¨ã—ã¦ã€æ–°ã—ã„è¦ç´ ã‚’æŒ¿å…¥ã™ã‚‹æ–¹æ³•ã‚’ã¨ã‚Šã¾ã™ã€‚
            // ã¾ãŸã¯ã€execCommandã¯pxæŒ‡å®šãŒã§ããªã„ãŸã‚ã€å˜ç´”ãªå®Ÿè£…ã«ã¨ã©ã‚ã¾ã™ã€‚
            document.execCommand('styleWithCSS', false, true);
            // ä»£æ›¿æ¡ˆ: å…¨ä½“ã‚’å›²ã‚ãªã„å ´åˆã¯ä½•ã‚‚ã—ãªã„ã‹ã€execCommand('fontSize', 1-7)ã‚’ä½¿ã†
            // ä»Šå›ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“å‘ä¸Šã®ãŸã‚ã€execCommandã§ä»®ã‚µã‚¤ã‚ºã‚’å½“ã¦ã¦ã‹ã‚‰ç½®æ›ã™ã‚‹ç­‰ã®é«˜åº¦ãªå‡¦ç†ã¯çœãã€
            // å¯èƒ½ãªç¯„å›²ã§é©ç”¨ã—ã¾ã™ã€‚
            alert('è¤‡æ•°ã®ãƒ–ãƒ­ãƒƒã‚¯ã«ã¾ãŸãŒã‚‹å¤‰æ›´ã¯ã§ãã¾ã›ã‚“ã€‚1è¡Œãšã¤é¸æŠã—ã¦ãã ã•ã„ã€‚');
        }
        
        // ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’æˆ»ã™
        document.getElementById('paper-container').focus();
    }
    
    // ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºå…¥åŠ›æ¬„ã‚’é¸æŠä¸­ã®ãƒ†ã‚­ã‚¹ãƒˆã®ã‚µã‚¤ã‚ºã«åˆã‚ã›ã‚‹ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
    document.getElementById('paper-container').addEventListener('click', function() {
        const selection = window.getSelection();
        if (selection.rangeCount > 0) {
            const parent = selection.anchorNode.parentElement;
            const size = window.getComputedStyle(parent).fontSize;
            if(size) {
                fontSizeInput.value = parseInt(size);
            }
        }
    });


    // è¡¨ã®æ ç·šè¨­å®šã®æ›´æ–°
    function updateTableBorder() {
        const width = document.getElementById('borderWidth').value + 'px';
        const style = document.getElementById('borderStyle').value;
        
        // ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå†…ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚¿ã‚°ã‚’æ¢ã™ã‹ä½œæˆã™ã‚‹
        let styleTag = document.getElementById('dynamic-table-style');
        if (!styleTag) {
            styleTag = document.createElement('style');
            styleTag.id = 'dynamic-table-style';
            document.head.appendChild(styleTag);
        }

        // CSSãƒ«ãƒ¼ãƒ«ã‚’æ›¸ãæ›ãˆã‚‹
        // .doc-table th, .doc-table td ã«é©ç”¨
        styleTag.innerHTML = `
            .doc-table th, .doc-table td {
                border: ${width} ${style} #000 !important;
            }
        `;
    }


    /**
     * æ™‚è¨ˆæç”»ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼æä¾›ã‚³ãƒ¼ãƒ‰ã®çµ±åˆï¼‰
     */
    function drawClock(canvasId, hour, minute) {
        const canvas = document.getElementById(canvasId);
        if (!canvas) return;
        const ctx = canvas.getContext('2d');
        const radius = canvas.width / 2;
        const cx = radius;
        const cy = radius;

        // èƒŒæ™¯ã‚¯ãƒªã‚¢
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // å¤–æ 
        ctx.beginPath();
        ctx.arc(cx, cy, radius - 2, 0, 2 * Math.PI);
        ctx.strokeStyle = '#000';
        ctx.lineWidth = 2;
        ctx.stroke();

        // ç›®ç››ã‚Š
        for (let i = 0; i < 12; i++) {
            const angle = (i * 30) * Math.PI / 180;
            const x1 = cx + (radius - 10) * Math.sin(angle);
            const y1 = cy - (radius - 10) * Math.cos(angle);
            const x2 = cx + (radius - 2) * Math.sin(angle);
            const y2 = cy - (radius - 2) * Math.cos(angle);
            ctx.beginPath();
            ctx.moveTo(x1, y1);
            ctx.lineTo(x2, y2);
            ctx.stroke();
        }

        // çŸ­é‡
        const hourAngle = ((hour % 12) * 30 + (minute / 60) * 30) * Math.PI / 180;
        ctx.beginPath();
        ctx.moveTo(cx, cy);
        ctx.lineTo(cx + (radius * 0.5) * Math.sin(hourAngle), cy - (radius * 0.5) * Math.cos(hourAngle));
        ctx.strokeStyle = '#000';
        ctx.lineWidth = 4;
        ctx.lineCap = 'round';
        ctx.stroke();

        // é•·é‡
        const minuteAngle = (minute * 6) * Math.PI / 180;
        ctx.beginPath();
        ctx.moveTo(cx, cy);
        ctx.lineTo(cx + (radius * 0.8) * Math.sin(minuteAngle), cy - (radius * 0.8) * Math.cos(minuteAngle));
        ctx.strokeStyle = '#000';
        ctx.lineWidth = 2;
        ctx.lineCap = 'round';
        ctx.stroke();

        // ä¸­å¿ƒç‚¹
        ctx.beginPath();
        ctx.arc(cx, cy, 3, 0, 2 * Math.PI);
        ctx.fillStyle = '#000';
        ctx.fill();
    }

    // åˆæœŸåŒ–å®Ÿè¡Œ
    window.onload = function() {
        // æ™‚è¨ˆã®æç”»
        drawClock('clockA', 15, 30);
        drawClock('clockB', 14, 30);
        drawClock('clockC', 6, 12);
        drawClock('clockD', 14, 0);

        // ãƒ†ãƒ¼ãƒ–ãƒ«æ ç·šã®åˆæœŸè¨­å®šåæ˜ 
        updateTableBorder();
    };
</script>

</body>
</html>
